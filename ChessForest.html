<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Chess Forest</title>
<style>
body {
    margin:0;
    padding:0;
    font-family:sans-serif;
    background:#fffde7;
    text-align:center;
}
h1 {
    margin-top:20px;
    font-size:2em;
    animation: glow 1s infinite alternate;
}
@keyframes glow {
    from { color:#ff9800; text-shadow: 0 0 10px #ff9800; }
    to { color:#4caf50; text-shadow: 0 0 20px #4caf50,0 0 30px #2196f3; }
}
#board-container {
    overflow:auto;
    max-width:100vw;
    max-height:80vh;
    margin:20px auto;
}
#board {
    display:grid;
    grid-template-columns: repeat(32, 30px);
    grid-template-rows: repeat(32, 30px);
    border:3px solid #333;
}
.square {
    width:30px;
    height:30px;
    display:flex;
    align-items:center;
    justify-content:center;
    font-size:20px;
}
.square.light { background-color:#f0d9b5; }
.square.dark { background-color:#b58863; }
.square.trap { background-color:#ff5252; }

/* Pi√®ces */
.piece {
    font-size:24px;
    cursor:grab;
}
</style>
</head>
<body>

<h1>üå≥ Chess Forest</h1>
<div id="board-container">
    <div id="board"></div>
</div>

<script>
// G√©n√©rer plateau 32x32
const board = document.getElementById('board');
for(let row=0; row<32; row++){
    for(let col=0; col<32; col++){
        const sq = document.createElement('div');
        sq.classList.add('square');
        sq.classList.add((row+col)%2===0?'light':'dark');
        sq.id = `sq-${row}-${col}`;
        board.appendChild(sq);
    }
}

// Couleurs changeantes toutes les 0.5s
setInterval(()=>{
    document.querySelectorAll('.square').forEach(sq=>{
        if(!sq.classList.contains('trap')){
            sq.style.backgroundColor = '#' + Math.floor(Math.random()*16777215).toString(16);
        }
    });
},500);

// Pi√®ges al√©atoires
for(let i=0;i<20;i++){
    const r=Math.floor(Math.random()*32);
    const c=Math.floor(Math.random()*32);
    document.getElementById(`sq-${r}-${c}`).classList.add('trap');
}

// Exemples de pi√®ces
const pieces=[
    {symbol:'‚ôî', row:0, col:0},
    {symbol:'‚ôö', row:31, col:31},
    {symbol:'‚ôï', row:0, col:1},
    {symbol:'‚ôõ', row:31, col:30}
];
pieces.forEach(p=>{
    const sq=document.getElementById(`sq-${p.row}-${p.col}`);
    const span=document.createElement('span');
    span.classList.add('piece');
    span.textContent=p.symbol;
    span.draggable=true;
    sq.appendChild(span);
});

// Drag & Drop
let dragged=null;
document.addEventListener('dragstart',e=>{
    if(e.target.classList.contains('piece')) dragged=e.target;
});
document.addEventListener('dragover',e=>{e.preventDefault();});
document.addEventListener('drop',e=>{
    e.preventDefault();
    const target = e.target.closest('.square');
    if(target && dragged){
        dragged.parentNode.removeChild(dragged);
        target.appendChild(dragged);
        dragged=null;
    }
});
</script>

</body>
</html>
